# WEB_MODEL_ERROR (web-006)

## Error Description

This error occurs when Cursor Utils encounters an issue with the specified model during a web command. This could be due to an invalid model name, a model that is unavailable or deprecated, or other model-related issues.

## Example Error

```
Ã— ERROR: Error with web model
  Code: web-006
  
  Causes:
  - Invalid model name specified
  - The requested model is not available
  - The model is deprecated
  - The model requires additional permissions
  - The model capacity is currently full
  
  Suggestion: Check the model name and try a different model
  
  For more information: https://github.com/gweidart/cursor-utils/errors/web-006.md
```

## Common Causes

1. **Invalid Model Name**: The specified model name is not valid or contains typos.
2. **Unavailable Model**: The requested model is not available to your API key or account.
3. **Deprecated Model**: The model has been deprecated and is no longer supported.
4. **Permission Issues**: Your API key doesn't have permission to use the requested model.
5. **Capacity Limits**: The model is at capacity and cannot accept new requests temporarily.
6. **API Version Mismatch**: The model is not compatible with the API version being used.

## Solutions

### Check available models

Verify which models are available to your API key:

```bash
cursor-utils web models list
```

### Use a default model

If you're unsure which model to use, let Cursor Utils use the default model:

```bash
cursor-utils web "your query"  # Without specifying a model
```

### Try a different model

If one model is not working, try another supported model:

```bash
cursor-utils web "your query" --model sonar  # Basic model
cursor-utils web "your query" --model sonar-pro  # Enhanced model
```

### Check model name spelling

Ensure the model name is spelled correctly:

```bash
# Correct
cursor-utils web "your query" --model sonar-pro

# Incorrect
cursor-utils web "your query" --model SonarPro  # Wrong format
cursor-utils web "your query" --model sonar_pro  # Wrong format
```

### Update your configuration

Update your web configuration with a valid model:

```bash
cursor-utils config set web.model sonar-pro
```

### Update Cursor Utils

Make sure you're using the latest version:

```bash
cursor-utils update
```

## Valid Model Options

| Model | Description | Notes |
|-------|-------------|-------|
| `sonar` | Basic model | Good for simple queries, fastest |
| `sonar-pro` | Enhanced model | Better comprehension, recommended for most uses |
| `sonar-reasoning` | Reasoning model | Improved logical reasoning capabilities |
| `sonar-pro-reasoning` | Pro reasoning model | Best for complex analytical questions |

## Related Commands

- `cursor-utils web --help` - Show help for the web command
- `cursor-utils web models list` - List available models
- `cursor-utils config show` - Display current configuration
- `cursor-utils config set web.model [MODEL]` - Set the default model

## Related Error Codes

- [WEB_API_ERROR (web-001)](web-001.md) - Error with Perplexity API
- [WEB_CONFIG_ERROR (web-002)](web-002.md) - Error with web command configuration
- [INVALID_API_KEY (config-001)](config-001.md) - Invalid API key

## Advanced Troubleshooting

### Check API documentation

Refer to the Perplexity API documentation for the latest information on supported models:
- [Perplexity API Documentation](https://docs.perplexity.ai)

### Debug model selection

Run with debug mode to see model selection details:

```bash
cursor-utils web "your query" --model sonar-pro --debug
```

### Check for API updates

The Perplexity API might have changed since your version of Cursor Utils was released:

```bash
# Check your Cursor Utils version
cursor-utils --version

# Update to the latest version
cursor-utils update
```

### Check API key capabilities

Some API keys might be restricted to certain models. Check your API key's capabilities:

```bash
cursor-utils test api_key --type PERPLEXITY
```

## Model Selection Considerations

### Performance vs Quality

Different models offer different trade-offs:
- **Basic models** (sonar): Faster responses, lower resource usage, less detailed answers
- **Pro models** (sonar-pro): More detailed responses, higher resource usage, might be slower

### Task Appropriateness

Choose models based on your task:
- **Factual questions**: sonar or sonar-pro is usually sufficient
- **Analytical questions**: sonar-reasoning or sonar-pro-reasoning may be better
- **Simple instructions**: sonar is faster and efficient
- **Complex reasoning**: sonar-pro-reasoning provides more thorough analysis

### API Costs

Different models may have different costs associated with them:
- Higher-tier models might use more tokens or cost more per query
- Check your Perplexity account for specific pricing details

## Still Having Issues?

If you've tried the solutions above and still encounter the error, please:

1. Check the current status of the Perplexity API:
   - [Perplexity Status Page](https://status.perplexity.ai)

2. Run with debug logging:
   ```bash
   cursor-utils web "test query" --model sonar --debug
   ```

3. Check the logs:
   ```bash
   cat ~/.cursor-utils/logs/cursor-utils.log
   ```

4. If the issue persists, please [submit a bug report](https://github.com/gweidart/cursor-utils/issues) with:
   - The complete error message
   - The model you tried to use
   - Other models you've tested (and whether they worked)
   - Your Cursor Utils version (`cursor-utils --version`)
   - Debug log output 